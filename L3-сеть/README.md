# Задание "L3-сеть"

## Задание 1.

Сколько доступно для назначения хостам адресов в подсети /25?
А в подсети с маской 255.248.0.0.

Примечение: постарайтесь потренироваться в ручных вычислениях чтобы немного набить руку, не пользоваться калькулятором сразу.

Приведите ответ в свободной форме.

### Ответ: 

В подсети /25 доступно 126 адресов.

В подсети с маской 255.248.0.0 или в подсети /13 доступно 524 286 адресов.

## Задание 2.

В какой подсети больше адресов, в /23 или /24?

Приведите ответ в свободной форме.

### Ответ: 

В /23 подсети на 256 адресов больше, чем в /24.

512(510) адресов против 256(254) адресов

## Задание 3.

Получится ли разделить диапазон 10.0.0.0/8 на 128 подсетей по 131070 адресов в каждой?
Какая маска будет у таких подсетей?

Приведите ответ в свободной форме.

### Ответ: 

Диапазон 10.0.0.0/8 получится разделить на 128 подсетей по 131 070 адресов в каждой.
У таких сетей маска подсети будет 255.0.0.0


## Задание 4.

С помощью дополнительных материалов укажите минимальную маску для подсети, в которой находится:

12 хостов.
39 хостов.
2 хоста.
4 хоста.
Примечение: потренируйтесь указывать маску как в формате 255.255.255.0, так и в формате /24.
Приведите ответ в свободной форме.

### Ответ: 

Для 12 хостов маска подсети будет 255.255.255.240 или /28
Для 39 хостов маска подсети будет 255.255.255.192 или /26
Для 2 хостов маска подсети будет 255.255.255.252 или /30
Для 4 хостов маска подсети будет 255.255.255.248 или /29

## Задание 5.

Используя свои знания про L2 и L3, поразмышляйте:

получится ли отправить пакет с компьютера 192.168.1.2 на компьютер 192.168.1.3 если они подключены согласно приведённой ниже схеме?

![image](https://user-images.githubusercontent.com/121933872/218794317-7a2fdb53-ca49-4b24-b687-0ded17f87fb3.png)

Дайте максимально развернутый ответ.

### Ответ: 

Так и хочется написать нет, т.к. тправить пакет с компьютера 192.168.1.2 на компьютер 192.168.1.3 не получится (в рассматриваемой схеме). Маршрут к сети назначения пакета, в данном случае, известен. Он прописан в таблице маршрутизации хоста 192.168.1.2. Используя таблицу маршрутизации и маску подсети, хост 192.168.1.2 определит, что компьютер 192.168.1.3 находится в той же подсети. Для того, чтобы определить MAC-адрес компьютера 192.168.1.3 хост 192.168.1.2 отправит ARP-запрос, ответ на который не будет получен. В результате, хост 192.168.1.2 выдаст ошибку отправки пакета на адрес 192.168.1.3.

Но из своего опыта могу сказать, что через костыли можно сделать схему рабочей, маскарадом можно, и слать пакеты на маскируемые адреса. Или настройкой NetMap, мы так делали на MikroTik, но это костыли. Лучшен всего не объединять две одинаковые сети.

## Задание 6.

Используя свои знания про маску подсети, L2 и L3, ответьте на вопросы:

смогут ли общаться между собой компьютеры 192.168.1.25/24 и 192.168.1.2/30?
сможет ли выйти в интернет компьютер 192.168.1.25/24, если шлюзом прописан маршрутизатор 192.168.1.1?
сможет ли выйти в интернет компьютер 192.168.1.2/30, если шлюзом прописан маршрутизатор 192.168.1.1?

![image](https://user-images.githubusercontent.com/121933872/218794439-0d2958f6-bd3a-4361-8536-6ad5782e9e97.png)

Дайте максимально развернутый ответ.

### Ответ: 

Компьютеры 192.168.1.25/24 и 192.168.1.2/30 общаться между собой не смогут, так как 192.168.1.25, посмотрев на маску подсети, определит, что 192.168.1.2 находится в его подсети. Далее, 192.168.1.25 сформирует и отправит ARP-запрос. 192.168.1.2, получив ARP-запрос, посмотрит в свою маску подсети и поймет, что 192.168.1.25 не в его подсети. Далее 192.168.1.2 отправит ответ на ARP-запрос на маршрутизатор, используя маршрут по умолчанию. Но маршрутизатор этот ответ отбросит, так как у него прописана другая маска подсети.

Компьютер 192.168.1.25/24 сможет выйти в интернет , если шлюзом прописан маршрутизатор 192.168.1.1. К примеру, 192.168.1.25 обращается к mail.ru. С помощью DNS резолвит его айпишник и получает в ответ 94.100.180.201. Далее, 192.168.1.25 смотрит в маску подсети и понимает, что айпишник Майла находится вне его сети. Определив, что для обращения к Майлу необходимо использовать маршрут по умолчанию, 192.168.1.25 сформирует и отрпавит ARP-запрос для определения MAC-адреса шлюза. Шлюз, получив ARP-запрос от 192.168.1.25, посмотрим в маску и поймет, что они в одной сети. После чего отправит ответ 192.168.1.25 со своим MAC-адресом. Далее, 192.168.1.25 начнет обмен фреймами с 192.168.1.1.

Компьютер 192.168.1.2/30 сможет выйти в интернет, если шлюзом прописан маршрутизатор 192.168.1.1/24, так как маска /30 включает в сеть 192.168.1.0 два ip-адреса: 192.168.1.1 и 192.168.1.2. К примеру, 192.168.1.2 обращается к google.com. С помощью DNS резолвит его айпишник и получает в ответ 64.233.161.139. Далее, 192.168.1.2 смотрит в локальную таблицу маршрутизации и понимает, что айпишник Google находится вне его сети. Определив, что для обращения к Google необходимо использовать маршрут по умолчанию, 192.168.1.2 сформирует и отправит ARP-запрос для определения MAC-адреса шлюза. Шлюз, получив ARP-запрос от 192.168.1.2, посмотрит в свою локальную таблицу маршрутизации и определит, что хост 192.168.1.2 находится в той же сети и отправит ARP-ответ. Далее, хост 192.168.1.2 начнет обмен фреймами с 192.168.1.1.


## Задание 7.

Мы купили новый роутер, в инструкции написано, что у него статический адрес 10.0.0.1/24.

На нашем компьютере прописан адрес 192.168.1.25/24, шлюз по-умолчанию 192.168.1.1.

откроется ли окно для настройки роутера если ввести адрес 10.0.0.1 в браузер?
почему?
что рекомендуется делать в таком случае?

![image](https://user-images.githubusercontent.com/121933872/218794505-a34dd605-eeeb-461d-bc06-0adc09914ae1.png)

Приведите ответ в свободной форме.

### Ответ: 

Окно для настройки роутера не откроется

Для того, чтобы открыть окно настройки роутера, на сетевом интерфейсе компьютера следует изменить адрес на ту сеть, в которой находится роутер, к примеру 10.0.0.254/24

## Задание 8.

Выберите корректные IP-адреса

№	IP
1.	192.168.1.1
2.	273.566.48.1
3.	90.90.10.1
4.	192.168.3
5.	0.165.14.5
6.	1.1.1.1
В ответе приведите номера корректных пунктов. При желании напишите, что не так у остальных.

### Ответ: 

1. 192.168.1.1 - корректный
2. 273.566.48.1 - некорректный, первый и второй октет 12-битные, а должны быть 8-битными
3. 90.90.10.1 - корректный
4. 192.168.3 - некорректный, указаны только сетевые октеты, не хватает еще одного октета - хостового, состоящего из 8 бит
5. 0.165.14.5 - некорректный, первый октет не может быть равен 0, он должен начинаться с единицы
6. 1.1.1.1 - корректный


# Дополнительные задания (со звездочкой)*
# Эти задания дополнительные (не обязательные к выполнению) и никак не повлияют на получение вами зачета по этому домашнему заданию. Вы можете их выполнить, если хотите глубже и/или шире разобраться в материале.

## Задание 9.

Попробуйте собрать дамп трафика с помощью tcpdump на основном интерфейсе вашей виртуальной машины и посмотреть его через tshark или Wireshark.

Примечение: можно ограничить число пакетов -c 100.

Встретились ли вам какие-то установленные флаги на уровне Internet Protocol (не флаги TCP, а именно флаги IP)?

Приведите ответ в свободной форме.


### Ответ: 



